<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="YT7QzoP0CGYZziDQuLr2aOTGGmpgioKi3izg5T1vBPs" />














  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="yongfeiuall,唐胡璐,软件测试,自动化测试,性能测试,Software Testing,QTP,Selenium,Performance Testing" />





  <link rel="alternate" href="/atom.xml" title="YONGFEIUALL" type="application/atom+xml" />






<meta name="description" content="i just wanna live while i am alive">
<meta property="og:type" content="website">
<meta property="og:title" content="YONGFEIUALL">
<meta property="og:url" content="http://izheyi.com/page/4/index.html">
<meta property="og:site_name" content="YONGFEIUALL">
<meta property="og:description" content="i just wanna live while i am alive">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="YONGFEIUALL">
<meta name="twitter:description" content="i just wanna live while i am alive">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://izheyi.com/page/4/"/>





  <title>YONGFEIUALL</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?964433a58390bc50ac82f1418eb8dc8e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">YONGFEIUALL</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">izheyi.com</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'fZPEsEHs3tafejXBDpZs','2.0.0');
</script>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/09/16/草原两日游玩/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/16/草原两日游玩/" itemprop="url">草原两日游玩</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-16T21:22:37+08:00">
                2018-09-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/丁丁/" itemprop="url" rel="index">
                    <span itemprop="name">丁丁</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/16/草原两日游玩/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/09/16/草原两日游玩/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>又占了妈妈的光，跟着公司去大草原去玩了两天。<br><img src="/images/izheyi/2018/09/caoyuan_00.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_01.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_02.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_03.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_04.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_05.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_06.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_07.JPG" alt=""><br><img src="/images/izheyi/2018/09/caoyuan_08.JPG" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/09/09/Centos下升级Mysql（5-1-5-7）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/09/Centos下升级Mysql（5-1-5-7）/" itemprop="url">Centos下升级Mysql（5.1 -> 5.7）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-09T08:48:18+08:00">
                2018-09-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mysql/" itemprop="url" rel="index">
                    <span itemprop="name">Mysql</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/09/Centos下升级Mysql（5-1-5-7）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/09/09/Centos下升级Mysql（5-1-5-7）/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>安装软件需要版本更高的Mysql，就做了个升级。</p>
<ol>
<li><p>如果担心数据丢失，可以先备份数据库。</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -<span class="keyword">u</span> xxx -<span class="keyword">h</span> xxx -P 3306 -p --all-databases &gt; databases.sql</span><br></pre></td></tr></table></figure>
</li>
<li><p>停止Mysql服务。</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld <span class="keyword">stop</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>卸载旧版Mysql。</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">remove</span> mysql mysql-*</span><br></pre></td></tr></table></figure>
<p> 移除命令执行后，可再看看是否有残余的mysql</p>
 <figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">list</span> installed | <span class="keyword">grep</span> mysql</span><br></pre></td></tr></table></figure>
<p> 如果有，删除：</p>
 <figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="keyword">remove</span> mysql－libs</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载5.7版本的rpm文件。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh <span class="string">http:</span><span class="comment">//repo.mysql.com/mysql57-community-release-el6-7.noarch.rpm</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装Mysql。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum <span class="operator"><span class="keyword">install</span> mysql-community-<span class="keyword">server</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>验证。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -V</span><br><span class="line">mysql  Ver <span class="number">14.14</span> Distrib <span class="number">5.7</span><span class="number">.23</span>, <span class="function"><span class="keyword">for</span> <span class="title">Linux</span> <span class="params">(x86_64)</span> <span class="keyword">using</span>  EditLine wrapper</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>问题1：</strong><br>Mysql服务启动失败，需要做初始化<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqld <span class="comment">--initialize</span></span><br></pre></td></tr></table></figure></p>
<p>遇到如下错误，<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span>-<span class="number">06</span>-5T05:<span class="number">36</span>:<span class="number">21.</span>07069Z <span class="number">0</span> [Warning] TIMESTAMP with <span class="type">implicit</span> <span class="keyword">DEFAULT</span> <span class="keyword">value</span> is deprecated. Please <span class="keyword">use</span> --explicit_defaults_for_timestamp server option (see documentation for more details).</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-5T05:<span class="number">36</span>:<span class="number">21.</span>08821Z <span class="number">0</span> [ERROR] --initialize specified but the <span class="type">data</span> directory has files <span class="type">in</span> it. Aborting.</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-5T05:<span class="number">36</span>:<span class="number">21.</span>08870Z <span class="number">0</span> [ERROR] Aborting</span><br></pre></td></tr></table></figure></p>
<p>做如下操作：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rm -rf /var/<span class="class"><span class="keyword">lib</span>/<span class="title">mysql</span></span></span><br><span class="line">service mysqld start</span><br></pre></td></tr></table></figure></p>
<p><strong>问题2：</strong><br>无法登录，<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">[<span class="keyword">root@Automation</span> mysql]# mysql -u root -p</span><br><span class="line">Enter password: </span><br><span class="line">ERROR <span class="number">1045</span> <span class="list">(<span class="keyword">28000</span>)</span>: Access denied for user <span class="variable">'root</span><span class="variable">'@</span><span class="variable">'localhost</span>' <span class="list">(<span class="keyword">using</span> password: YES)</span></span></span><br></pre></td></tr></table></figure></p>
<p>新版Mysql会设置默认密码，通过下面获得，<br><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grep</span> <span class="string">'temporary password'</span> /var/<span class="keyword">log</span>/mysqld.<span class="keyword">log</span></span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">05</span>T05:<span class="number">38</span>:<span class="number">02</span>.<span class="number">215252</span>Z <span class="number">1</span> [Note] A temporary password is generated <span class="keyword">for</span> root<span class="variable">@localhost</span>: adwyZ;K=<span class="number">7</span>Ub&lt;</span><br></pre></td></tr></table></figure></p>
<p>修改密码<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="property">@Automation</span> mysql]<span class="comment"># service mysqld stop</span></span><br><span class="line">停止 mysqld：                                              [确定]</span><br><span class="line">[root<span class="property">@Automation</span> mysql]<span class="comment"># ps -ef | grep mysql</span></span><br><span class="line">root     <span class="number">18570</span> <span class="number">11168</span>  <span class="number">0</span> <span class="number">15</span>:<span class="number">32</span> pts/<span class="number">3</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep mysql</span><br><span class="line">[root<span class="property">@Automation</span> mysql]<span class="comment"># mysqld_safe --user=mysql --skip-grant-tables --skip-networking &amp;</span></span><br><span class="line">[<span class="number">1</span>] <span class="number">18571</span></span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">05</span><span class="attribute">T07</span>:<span class="number">32</span>:<span class="number">24.885303</span>Z mysqld_safe Logging <span class="keyword">to</span> <span class="string">'/var/log/mysqld.log'</span>.</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">05</span><span class="attribute">T07</span>:<span class="number">32</span>:<span class="number">24.928701</span>Z mysqld_safe Starting mysqld daemon <span class="keyword">with</span> databases <span class="keyword">from</span> /<span class="keyword">var</span>/lib/mysql</span><br><span class="line">^C</span><br><span class="line">[root<span class="property">@Automation</span> mysql]<span class="comment"># mysql -u root mysql</span></span><br><span class="line">Reading table information <span class="keyword">for</span> completion <span class="keyword">of</span> table <span class="keyword">and</span> column names</span><br><span class="line">You can turn <span class="literal">off</span> <span class="keyword">this</span> feature <span class="keyword">to</span> get a quicker startup <span class="keyword">with</span> -A</span><br><span class="line"></span><br><span class="line">Welcome <span class="keyword">to</span> the MySQL monitor.  Commands end <span class="keyword">with</span> ; <span class="keyword">or</span> <span class="string">\g.</span></span><br><span class="line">Your MySQL connection id <span class="keyword">is</span> <span class="number">2</span></span><br><span class="line">Server <span class="attribute">version</span>: <span class="number">5.7</span>.<span class="number">23</span> MySQL Community Server (GPL)</span><br><span class="line"></span><br><span class="line">Copyright (c) <span class="number">2000</span>, <span class="number">2018</span>, Oracle <span class="keyword">and</span>/<span class="keyword">or</span> its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle <span class="keyword">is</span> a registered trademark <span class="keyword">of</span> Oracle Corporation <span class="keyword">and</span>/<span class="keyword">or</span> its</span><br><span class="line">affiliates. Other names may be trademarks <span class="keyword">of</span> their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="string">'help;'</span> <span class="keyword">or</span> <span class="string">'\h'</span> <span class="keyword">for</span> help. Type <span class="string">'\c'</span> <span class="keyword">to</span> clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; update mysql.user set authentication_string=password(<span class="string">'admin'</span>) where User=<span class="string">'root'</span>;</span><br><span class="line">Query OK, <span class="number">1</span> row affected, <span class="number">1</span> warning (<span class="number">0.01</span> sec)</span><br><span class="line">Rows <span class="attribute">matched</span>: <span class="number">1</span>  <span class="attribute">Changed</span>: <span class="number">1</span>  <span class="attribute">Warnings</span>: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, <span class="number">0</span> rows affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; update mysql.user set Host=<span class="string">'%'</span> where User=<span class="string">'root'</span>;</span><br><span class="line">Query OK, <span class="number">1</span> row affected (<span class="number">0.00</span> sec)</span><br><span class="line">Rows <span class="attribute">matched</span>: <span class="number">1</span>  <span class="attribute">Changed</span>: <span class="number">1</span>  <span class="attribute">Warnings</span>: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">mysql&gt; flush privileges;</span><br><span class="line">Query OK, <span class="number">0</span> rows affected (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt;</span><br></pre></td></tr></table></figure></p>
<p>登录之后，还是不行，做如下操作：<br><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">[root@Automation mysql]# mysql -u root -p</span><br><span class="line">Enter password: </span><br><span class="line">Welcome to the MySQL monitor.  Commands end with ; or \g.</span><br><span class="line">Your MySQL connection id is 4</span><br><span class="line">Server version: 5.7.23</span><br><span class="line"></span><br><span class="line">Copyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.</span><br><span class="line"></span><br><span class="line">Oracle is a registered trademark of Oracle Corporation and/or its</span><br><span class="line">affiliates. Other names may be trademarks of their respective</span><br><span class="line">owners.</span><br><span class="line"></span><br><span class="line">Type <span class="emphasis">'help;'</span> or <span class="emphasis">'\h'</span> for help. Type <span class="emphasis">'\c'</span> to clear the current input statement.</span><br><span class="line"></span><br><span class="line">mysql&gt; show databases;</span><br><span class="line">ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.</span><br><span class="line">mysql&gt; ALTER USER <span class="emphasis">'root'</span>@<span class="emphasis">'%'</span> IDENTIFIED BY <span class="emphasis">'admin'</span>;</span><br><span class="line">Query OK, 0 rows affected (0.01 sec)</span><br><span class="line"></span><br><span class="line"><span class="header">mysql&gt; show databases;</span><br><span class="line">+--------------------+</span></span><br><span class="line"><span class="header">| Database           |</span><br><span class="line">+--------------------+</span></span><br><span class="line">| information<span class="emphasis">_schema |</span><br><span class="line">| mysql              |</span><br><span class="line">| performance_</span>schema |</span><br><span class="line"><span class="header">| sys                |</span><br><span class="line">+--------------------+</span></span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure></p>
<p>到此，Mysql升级完成。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/09/02/丁丁画画（二年级上学期）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/02/丁丁画画（二年级上学期）/" itemprop="url">丁丁画画（二年级上学期）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-09-02T16:53:21+08:00">
                2018-09-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/丁丁/" itemprop="url" rel="index">
                    <span itemprop="name">丁丁</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/02/丁丁画画（二年级上学期）/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/09/02/丁丁画画（二年级上学期）/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="/images/izheyi/pic/2018/2_1_1.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_2.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_3.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_4.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_5.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_6.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_7.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_8.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_9.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_10.JPG" alt=""><br><img src="/images/izheyi/pic/2018/2_1_11.JPG" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/08/26/nmon-安装使用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/26/nmon-安装使用/" itemprop="url">nmon - 安装使用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-26T12:12:11+08:00">
                2018-08-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Nmon/" itemprop="url" rel="index">
                    <span itemprop="name">Nmon</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/26/nmon-安装使用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/08/26/nmon-安装使用/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>开源性能监控工具，用于监控linux系统的资源消耗信息，并能把结果输出到文件中，然后通过nmon_analyser工具产生数据文件与图形化结果。</p>
<h1 id="Nmon"><a href="#Nmon" class="headerlink" title="Nmon"></a>Nmon</h1><ol>
<li>下载相应OS版本，基于Centos<a href="https://sourceforge.net/projects/nmon/files/nmon16e_mpginc.tar.gz" target="_blank" rel="external">nmon</a></li>
<li>上传到Server <code>/opt/nmon/</code></li>
<li><p>解压，重命名，授权</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="constant">@Automation</span> nmon]<span class="preprocessor"># tar -zxvf nmon16e_mpginc.tar.gz</span></span><br><span class="line">[root<span class="constant">@Automation</span> nmon]<span class="preprocessor"># mv nmon_x86_64_centos6  nmon</span></span><br><span class="line">[root<span class="constant">@Automation</span> nmon]<span class="preprocessor"># chmod 777 nmon</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>验证</p>
<figure class="highlight gherkin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="comment">@Automation nmon]# ./nmon</span></span><br><span class="line"></span><br><span class="line">  ------------------------------                                                                                                                                                            x</span><br><span class="line">x    _ __  _ __ ___   ___  _ __    	 For help type H or ...                                                                                                                               x</span><br><span class="line">x   |<span class="string"> '_ \</span>|<span class="string"> '_ ` _ \ / _ \</span>|<span class="string"> '_ \          nmon -?  - hint                                                                                                                                     </span><br><span class="line">x   </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> (_) </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string"> </span>|<span class="string">         nmon -h  - full details                                                                                                                             </span><br><span class="line">x   </span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string">\___/</span>|<span class="string">_</span>|<span class="string"> </span>|<span class="string">_</span>|<span class="string">                                                                                                                                                             </span><br><span class="line">x                                        To stop nmon type q to Quit                                                                                                                          </span><br><span class="line">x   ------------------------------                                                                                                                                                            x                                                                                                                                                                                           </span><br><span class="line">x   LSB_VERSION=base-4.0-amd64:base-4.0-noarch:core-4.0-amd64:core-4.0-noarch:graphics-4.0-amd64:graphics-4.0-noarch:printing-4.0-amd64:printing-4.0-no                                       x</span><br><span class="line">xarcGenuineIntel Intel(R) Core(TM) i5-6300U CPU @ 2.40GHz                                                                                                                                     </span><br><span class="line">x   MHz=2496.089 bogomips=4992.17                                                                                                                                                             </span><br><span class="line">x   ProcessorChips=1 PhyscalCores=1                                                                                                                                                           </span><br><span class="line">x   Hyperthreads  =0 VirtualCPUs =2                                                                                                                                                           x</span><br><span class="line">x   Use these keys to toggle statistics on/off:                                                                                                                                               </span><br><span class="line">x     c = CPU         l = CPU Long-term     - = Faster screen updates                                                                                                                         </span><br><span class="line">x     C = " WideView  U = Utilisation       + = Slower screen updates                                                                                                                         </span><br><span class="line">x     m = Memory      V = Virtual memory    j = File Systems                                                                                                                                  </span><br><span class="line">x     d = Disks       n = Network           . = only busy disks/procs                                                                                                                         </span><br><span class="line">x     r = Resource    N = NFS               h = more options                                                                                                                                  </span><br><span class="line">x     k = Kernel      t = Top-processes     q = Quit</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="Nmon-Analyser"><a href="#Nmon-Analyser" class="headerlink" title="Nmon Analyser"></a>Nmon Analyser</h1><p>下载和说明参见：<a href="https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/Power+Systems/page/nmon_analyser" target="_blank" rel="external">nmon_analyser</a></p>
<h1 id="数据采集并分析"><a href="#数据采集并分析" class="headerlink" title="数据采集并分析"></a>数据采集并分析</h1><ol>
<li><p>采集</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@Automation nmon]# ./nmon <span class="comment">--help</span></span><br><span class="line">./nmon: invalid option <span class="comment">-- '-'</span></span><br><span class="line">Hint for nmon version 16e</span><br><span class="line">	Full <span class="operator"><span class="keyword">Help</span> Info : nmon -h</span><br><span class="line"></span><br><span class="line">	<span class="keyword">On</span>-screen Stats: nmon</span><br><span class="line">	<span class="keyword">Data</span> Collection: nmon -<span class="keyword">f</span> [-s &lt;seconds&gt;] [-<span class="keyword">c</span> &lt;<span class="keyword">count</span>&gt;] [-<span class="keyword">t</span>|-<span class="keyword">T</span>]</span><br><span class="line">	<span class="keyword">Capacity</span> Plan  : nmon -x</span><br><span class="line">Interactive-<span class="keyword">Mode</span>:</span><br><span class="line">	<span class="keyword">Read</span> the Welcome screen &amp; <span class="keyword">at</span> <span class="keyword">any</span> <span class="keyword">time</span> <span class="keyword">type</span>: <span class="string">"h"</span> <span class="keyword">for</span> more <span class="keyword">help</span></span><br><span class="line">	<span class="keyword">Type</span> <span class="string">"q"</span> <span class="keyword">to</span> <span class="keyword">exit</span> nmon</span><br><span class="line"></span><br><span class="line"><span class="keyword">For</span> <span class="keyword">Data</span>-<span class="keyword">Collect</span>-<span class="keyword">Mode</span></span><br><span class="line">	-<span class="keyword">f</span>            Must be the <span class="keyword">first</span> <span class="keyword">option</span> <span class="keyword">on</span> the line (switches <span class="keyword">off</span> interactive <span class="keyword">mode</span>)</span><br><span class="line">	              Saves <span class="keyword">data</span> <span class="keyword">to</span> a CSV Spreadsheet <span class="keyword">format</span> .nmon <span class="keyword">file</span> <span class="keyword">in</span> <span class="keyword">then</span> <span class="keyword">local</span> <span class="keyword">directory</span></span><br><span class="line">	              Note: -<span class="keyword">f</span> <span class="keyword">sets</span> a <span class="keyword">defaults</span> -s300 -c288    which you can <span class="keyword">then</span> <span class="keyword">modify</span></span><br><span class="line">	Further <span class="keyword">Data</span> Collection Options:</span><br><span class="line">	-s &lt;seconds&gt;  <span class="keyword">time</span> <span class="keyword">between</span> <span class="keyword">data</span> snapshots</span><br><span class="line">	-<span class="keyword">c</span> &lt;<span class="keyword">count</span>&gt;    <span class="keyword">of</span> snapshots <span class="keyword">before</span> exiting</span><br><span class="line">	-<span class="keyword">t</span>            Includes Top Processes stats (-<span class="keyword">T</span> also collects command arguments)</span><br><span class="line">	-x            <span class="keyword">Capacity</span> Planning=<span class="number">15</span> <span class="keyword">min</span> snapshots <span class="keyword">for</span> <span class="number">1</span> <span class="keyword">day</span>. (nmon -ft -s <span class="number">900</span> -<span class="keyword">c</span> <span class="number">96</span>)</span><br><span class="line"><span class="comment">---- End of Hints</span></span><br><span class="line">[root@Automation nmon]# ./nmon -<span class="keyword">c</span> <span class="number">10</span> -s <span class="number">2</span> -<span class="keyword">f</span> -<span class="keyword">t</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>分析<br>把第一步生成的采集文件，用analyser打开即可。</p>
</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/08/19/走进中国人民抗日战争纪念馆/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/19/走进中国人民抗日战争纪念馆/" itemprop="url">走进中国人民抗日战争纪念馆</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-19T20:30:17+08:00">
                2018-08-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/丁丁/" itemprop="url" rel="index">
                    <span itemprop="name">丁丁</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/19/走进中国人民抗日战争纪念馆/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/08/19/走进中国人民抗日战争纪念馆/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>应要求，做爱国主义教育，周末到抗日战争纪念馆，给孩子讲了一些知道的知识，也再次体会到了战争的残酷，和平的不易。<br><img src="/images/izheyi/2018/08/kangri_01.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_02.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_03.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_04.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_05.JPG" alt=""></p>
<p>有一个抗战老兵的专题展，抗日英雄的过去和现状。95%的人都是回家务农，从图片就可以看出，现在过的应该很不易，到最后只剩一个棺材板，不知道还有没有人记得这些人的存在？不知道他们的内心有没有些许的牢骚和动摇？</p>
<p>还去了卢沟桥，20块票不值，爱国教育为什么还要收钱呢？出来的时候看很多人都是从出口进去的，也没人管。<br><img src="/images/izheyi/2018/08/kangri_06.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_07.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_08.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_09.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_10.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_11.JPG" alt=""><br><img src="/images/izheyi/2018/08/kangri_12.JPG" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/08/12/ZooKeeper-Dubbo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/12/ZooKeeper-Dubbo/" itemprop="url">Dubbo + ZooKeeper简单分布式搭建</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-12T14:30:38+08:00">
                2018-08-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Distribution/" itemprop="url" rel="index">
                    <span itemprop="name">Distribution</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/12/ZooKeeper-Dubbo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/08/12/ZooKeeper-Dubbo/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>用Dubbo和Zookeeper实现一个简单的分布式搭建。 代码上传 <a href="https://github.com/yongfeiuall/dubbo-zookeeper" target="_blank" rel="external">dubbo-zookeeper</a></p>
<h1 id="实现理解"><a href="#实现理解" class="headerlink" title="实现理解"></a>实现理解</h1><p>有两个项目：</p>
<ul>
<li>服务提供者（dubbo-provider）</li>
<li>服务消费者（dubbo-consumer）</li>
</ul>
<p>实现逻辑：</p>
<ol>
<li>在<code>dubbo-provider</code>实现一个服务，引入dubbo及相关配置，项目启动就会根据配置去Zookeeper注册一下，说明我实现这个服务，谁想用就可以来调用了。</li>
<li>在<code>dubbo-consumer</code>也引入dubbo，配置好想调用的服务，启动就会告诉Zookeeper我会使用什么服务。</li>
</ol>
<p>当<code>dubbo-consumer</code>想调用服务A时，就去问ZooKeeper，它就会把<code>dubbo-provider</code>中服务A的地址告诉<code>dubbo-consumer</code>，然后就根据地址去调用<code>dubbo-provider</code>的服务。</p>
<h1 id="dubbo-provider"><a href="#dubbo-provider" class="headerlink" title="dubbo-provider"></a>dubbo-provider</h1><ol>
<li>创建此工程，代码、依赖和配置请参见Github。</li>
<li>运行此工程。<br><img src="/images/distributed/dubbo_provider.jpg" alt=""></li>
<li>检查ZooKeeper。<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ls /</span><br><span class="line">[zk, dubbo, zookeeper]</span><br><span class="line">[zk: localhost:<span class="number">2181</span>(CONNECTED) <span class="number">1</span>] ls /dubbo</span><br><span class="line">[com.izheyi.com.dubbo_provider.DubboService]</span><br><span class="line">[zk: localhost:<span class="number">2181</span>(CONNECTED) <span class="number">2</span>] ls /dubbo/com.izheyi.com.dubbo_provider.DubboService</span><br><span class="line">[configurators, providers]</span><br><span class="line">[zk: localhost:<span class="number">2181</span>(CONNECTED) <span class="number">6</span>] ls /dubbo/com.izheyi.com.dubbo_provider.DubboService/providers</span><br><span class="line">[dubbo%<span class="number">3</span>A%<span class="number">2F</span>%<span class="number">2F</span>10<span class="number">.24</span><span class="number">.33</span><span class="number">.14</span>%<span class="number">3</span>A20880%<span class="number">2F</span>com.izheyi.com.dubbo_provider.DubboService%<span class="number">3F</span>anyhost%<span class="number">3</span>Dtrue%<span class="number">26</span>application%<span class="number">3</span>Ddubbo-provider%<span class="number">26</span>dubbo%<span class="number">3</span>D2<span class="number">.5</span><span class="number">.3</span>%<span class="number">26</span>interface%<span class="number">3</span>Dcom.izheyi.com.dubbo_provider.DubboService%<span class="number">26</span>methods%<span class="number">3</span>DsayHello%<span class="number">26</span>pid%<span class="number">3</span>D22152%<span class="number">26</span>side%<span class="number">3</span>Dprovider%<span class="number">26</span>timestamp%<span class="number">3</span>D1535618301235]</span><br><span class="line">[zk: localhost:<span class="number">2181</span>(CONNECTED) <span class="number">7</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="dubbo-consumer"><a href="#dubbo-consumer" class="headerlink" title="dubbo-consumer"></a>dubbo-consumer</h1><ol>
<li>创建此工程，代码、依赖和配置请参见Github。</li>
<li>运行此工程。<br><img src="/images/distributed/dubbo_consumer.jpg" alt=""></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/08/11/Dubbo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/11/Dubbo/" itemprop="url">Dubbo</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-11T14:30:11+08:00">
                2018-08-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Distribution/" itemprop="url" rel="index">
                    <span itemprop="name">Distribution</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/11/Dubbo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/08/11/Dubbo/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://dubbo.incubator.apache.org" target="_blank" rel="external">Dubbo</a>是一款分布式服务框架，高性能和透明化的RPC远程服务调用方案。</p>
<p>Dubbo采用全spring配置方式，透明化接入应用，对应用没有任何API侵入，只需用Spring加载Dubbo的配置即可。</p>
<h1 id="Dubbo架构："><a href="#Dubbo架构：" class="headerlink" title="Dubbo架构："></a>Dubbo架构：</h1><p><img src="/images/distributed/dubbo_frame.jpg" alt=""></p>
<ul>
<li>Provider: 暴露服务的服务提供方。 </li>
<li>Consumer: 调用远程服务的服务消费方。 </li>
<li>Registry: 服务注册与发现的注册中心。 </li>
<li>Monitor: 统计服务的调用次数和调用时间的监控中心。</li>
</ul>
<h1 id="调用流程"><a href="#调用流程" class="headerlink" title="调用流程"></a>调用流程</h1><ol>
<li>服务容器负责启动，加载，运行服务提供者。 </li>
<li>服务提供者在启动时，向注册中心注册自己提供的服务。 </li>
<li>服务消费者在启动时，向注册中心订阅自己所需的服务。 </li>
<li>注册中心返回服务提供者地址列表给消费者，如果有变更，注册中心将基于长连接推送变更数据给消费者。 </li>
<li>服务消费者，从提供者地址列表中，基于软负载均衡算法，选一台提供者进行调用，如果调用失败，再选另一台调用。 </li>
<li>服务消费者和提供者，在内存中累计调用次数和调用时间，定时每分钟发送一次统计数据到监控中心</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/08/11/Zookeeper/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/11/Zookeeper/" itemprop="url">ZooKeeper</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-11T14:29:52+08:00">
                2018-08-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Distribution/" itemprop="url" rel="index">
                    <span itemprop="name">Distribution</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/11/Zookeeper/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/08/11/Zookeeper/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://zookeeper.apache.org/" target="_blank" rel="external">ZooKeeper</a>是一个开源的分布式协调服务，他为分布式应用提供了高效且可靠的分布式协调服务，提供了诸如统一命名空间服务，配置服务和分布式锁等分布式基础服务。</p>
<p>就是一个服务注册中心。一个典型的ZooKeeper集群如下：<br><img src="/images/distributed/zk_service.jpg" alt=""></p>
<p>ZooKeeper拥有一个层次的命名空间，这个和标准的文件系统非常相似，如下图所示：<br><img src="/images/distributed/zk_namespace.jpg" alt=""></p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><ol>
<li>下载并解压；</li>
<li>创建data和log目录；</li>
<li><p>修改config - zoo.cfg；</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dataDir=/opt/zookeeper-<span class="number">3.4</span><span class="number">.13</span>/data</span><br><span class="line">dataLogDir=/opt/zookeeper-<span class="number">3.4</span><span class="number">.13</span>/<span class="built_in">log</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>启动</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@Automation bin]# ./zkServer.sh <span class="operator"><span class="keyword">start</span></span><br><span class="line">ZooKeeper JMX enabled <span class="keyword">by</span> <span class="keyword">default</span></span><br><span class="line"><span class="keyword">Using</span> config: /opt/zookeeper-<span class="number">3.4</span><span class="number">.13</span>/<span class="keyword">bin</span>/../conf/zoo.cfg</span><br><span class="line"><span class="keyword">Starting</span> zookeeper ... STARTED</span><br><span class="line">[root@Automation <span class="keyword">bin</span>]# ./zkServer.sh <span class="keyword">status</span></span><br><span class="line">ZooKeeper JMX enabled <span class="keyword">by</span> <span class="keyword">default</span></span><br><span class="line"><span class="keyword">Using</span> config: /opt/zookeeper-<span class="number">3.4</span><span class="number">.13</span>/<span class="keyword">bin</span>/../conf/zoo.cfg</span><br><span class="line"><span class="keyword">Mode</span>: <span class="keyword">standalone</span></span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="命令操作"><a href="#命令操作" class="headerlink" title="命令操作"></a>命令操作</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@Automation bin]<span class="preprocessor"># ./zkCli.sh -server localhost:<span class="number">2181</span></span></span><br><span class="line">Connecting to localhost:<span class="number">2181</span></span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">02</span> <span class="number">09</span>:<span class="number">26</span>:<span class="number">12</span>,<span class="number">387</span> [myid:] - INFO  [main:Environment@<span class="number">100</span>] - Client environment:zookeeper.version=<span class="number">3.4</span><span class="number">.13</span>-<span class="number">2</span>d71af4dbe22557fda74f9a9b4309b15a7487f03, built on <span class="number">06</span>/<span class="number">29</span>/<span class="number">2018</span> <span class="number">04</span>:<span class="number">05</span> GMT</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">02</span> <span class="number">09</span>:<span class="number">26</span>:<span class="number">12</span>,<span class="number">395</span> [myid:] - INFO  [main:Environment@<span class="number">100</span>] - Client environment:host.name=&lt;NA&gt;</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">02</span> <span class="number">09</span>:<span class="number">26</span>:<span class="number">12</span>,<span class="number">395</span> [myid:] - INFO  [main:Environment@<span class="number">100</span>] - Client environment:java.version=<span class="number">1.8</span><span class="number">.0</span>_11</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">02</span> <span class="number">09</span>:<span class="number">26</span>:<span class="number">12</span>,<span class="number">405</span> [myid:] - INFO  [main:Environment@<span class="number">100</span>] - Client environment:java.vendor=Oracle Corporation</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">02</span> <span class="number">09</span>:<span class="number">26</span>:<span class="number">12</span>,<span class="number">405</span> [myid:] - INFO  [main:Environment@<span class="number">100</span>] - Client environment:java.home=/usr/java/jdk1<span class="number">.8</span><span class="number">.0</span>_11/jre</span><br><span class="line"><span class="number">2018</span>-<span class="number">06</span>-<span class="number">02</span> <span class="number">09</span>:<span class="number">26</span>:<span class="number">12</span>,<span class="number">405</span> [myid:] - INFO  [main:Environment@<span class="number">100</span>] - Client environment:java.<span class="keyword">class</span>.path=/opt/zookeeper-<span class="number">3.4</span><span class="number">.13</span>/bin/../build/classes:/opt/zookeeper-<span class="number">3.4</span><span class="number">.13</span>/bin/../build/lib<span class="comment">/*.jar:/opt/zookeeper-3.4.13/bin/../lib/slf4j-log4j12-1.7.25.jar:/opt/zookeeper-3.4.13/bin/../lib/slf4j-api-1.7.25.jar:/opt/zookeeper-3.4.13/bin/../lib/netty-3.10.6.Final.jar:/opt/zookeeper-3.4.13/bin/../lib/log4j-1.2.17.jar:/opt/zookeeper-3.4.13/bin/../lib/jline-0.9.94.jar:/opt/zookeeper-3.4.13/bin/../lib/audience-annotations-0.5.0.jar:/opt/zookeeper-3.4.13/bin/../zookeeper-3.4.13.jar:/opt/zookeeper-3.4.13/bin/../src/java/lib<span class="comment">/*.jar:/opt/zookeeper-3.4.13/bin/../conf:.:/usr/java/jdk1.8.0_11/lib/dt.jar:/usr/java/jdk1.8.0_11/lib/tools.jar:/usr/java/jdk1.8.0_11/jre/lib</span><br><span class="line">2018-06-02 09:26:12,405 [myid:] - INFO  [main:Environment@100] - Client environment:java.library.path=/usr/java/packages/lib/i386:/lib:/usr/lib</span><br><span class="line">2018-06-02 09:26:12,405 [myid:] - INFO  [main:Environment@100] - Client environment:java.io.tmpdir=/tmp</span><br><span class="line">2018-06-02 09:26:12,405 [myid:] - INFO  [main:Environment@100] - Client environment:java.compiler=&lt;NA&gt;</span><br><span class="line">2018-06-02 09:26:12,405 [myid:] - INFO  [main:Environment@100] - Client environment:os.name=Linux</span><br><span class="line">2018-06-02 09:26:12,406 [myid:] - INFO  [main:Environment@100] - Client environment:os.arch=i386</span><br><span class="line">2018-06-02 09:26:12,406 [myid:] - INFO  [main:Environment@100] - Client environment:os.version=2.6.32-573.el6.x86_64</span><br><span class="line">2018-06-02 09:26:12,406 [myid:] - INFO  [main:Environment@100] - Client environment:user.name=root</span><br><span class="line">2018-06-02 09:26:12,406 [myid:] - INFO  [main:Environment@100] - Client environment:user.home=/root</span><br><span class="line">2018-06-02 09:26:12,407 [myid:] - INFO  [main:Environment@100] - Client environment:user.dir=/opt/zookeeper-3.4.13/bin</span><br><span class="line">2018-06-02 09:26:12,410 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=localhost:2181 sessionTimeout=30000 watcher=org.apache.zookeeper.ZooKeeperMain$MyWatcher@1e0aca6</span><br><span class="line">Welcome to ZooKeeper!</span><br><span class="line">2018-06-02 09:26:12,484 [myid:] - INFO  [main-SendThread(localhost:2181):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/0:0:0:0:0:0:0:1:2181. Will not attempt to authenticate using SASL (unknown error)</span><br><span class="line">JLine support is enabled</span><br><span class="line">2018-06-02 09:26:12,510 [myid:] - INFO  [main-SendThread(localhost:2181):ClientCnxn$SendThread@879] - Socket connection established to localhost/0:0:0:0:0:0:0:1:2181, initiating session</span><br><span class="line">2018-06-02 09:26:12,572 [myid:] - INFO  [main-SendThread(localhost:2181):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/0:0:0:0:0:0:0:1:2181, sessionid = 0x1003ae6d0d60000, negotiated timeout = 30000</span><br><span class="line"></span><br><span class="line">WATCHER::</span><br><span class="line"></span><br><span class="line">WatchedEvent state:SyncConnected type:None path:null</span><br><span class="line">[zk: localhost:2181(CONNECTED) 0]</span></span></span><br></pre></td></tr></table></figure>
<p>这里不做过多深入学习说明，集群环境搭建，工作原理，Leader选举等，请参见官方文档。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/08/05/Jmeter-环境及常用插件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/05/Jmeter-环境及常用插件/" itemprop="url">Jmeter - 环境及常用插件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-08-05T08:28:27+08:00">
                2018-08-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Jmeter/" itemprop="url" rel="index">
                    <span itemprop="name">Jmeter</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/08/05/Jmeter-环境及常用插件/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/08/05/Jmeter-环境及常用插件/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>不做过多介绍，下载后，解压运行，即可使用。</p>
<h1 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h1><h1 id="插件管理"><a href="#插件管理" class="headerlink" title="插件管理"></a>插件管理</h1><p>从官网下载<a href="https://jmeter-plugins.org/downloads/all/" target="_blank" rel="external">Plugins Manager Download</a>，将其放入jmeter安装目录下的lib/ext目录，然后重启jmeter，即可。<br><img src="/images/jmeter/plugin_manager.jpg" alt=""></p>
<h1 id="常用插件"><a href="#常用插件" class="headerlink" title="常用插件"></a>常用插件</h1><p>插件管理那个我试的时候好像不好用，后来不知道为啥自己又出来了，我们可以手动的来下载配置相应的插件。</p>
<p>下载<a href="https://jmeter-plugins.org/downloads/old/" target="_blank" rel="external">Old-Style Releases</a></p>
<ul>
<li>JMeterPlugins-Standard-1.4.0.zip</li>
<li>JMeterPlugins-Extras-1.4.0.zip<br>解压，将其拷贝到jmeter的lib/ext目录下。<br><img src="/images/jmeter/plugins.jpg" alt=""></li>
</ul>
<h2 id="OS监控"><a href="#OS监控" class="headerlink" title="OS监控"></a>OS监控</h2><p>从此下载<a href="https://github.com/undera/perfmon-agent" target="_blank" rel="external">PerfMon Server Agent</a>。</p>
<ol>
<li>上传到Server，并启动。</li>
<li>客户端监听<br><img src="/images/jmeter/perfmon.jpg" alt=""></li>
</ol>
<h2 id="Stepping-Thread-Group-amp-Concurrency-Thread-Group"><a href="#Stepping-Thread-Group-amp-Concurrency-Thread-Group" class="headerlink" title="Stepping Thread Group &amp; Concurrency Thread Group"></a>Stepping Thread Group &amp; Concurrency Thread Group</h2><p><img src="/images/jmeter/thread_group.jpg" alt=""></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://izheyi.com/2018/07/29/Java项目实战-项目部署/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="唐胡璐">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YONGFEIUALL">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/29/Java项目实战-项目部署/" itemprop="url">Java项目实战 - 项目部署</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-29T14:08:46+08:00">
                2018-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
            <!--noindex-->
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/07/29/Java项目实战-项目部署/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count hc-comment-count" data-xid="2018/07/29/Java项目实战-项目部署/" itemprop="commentsCount"></span>
                </a>
              </span>
              <!--/noindex-->
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>项目实现分布式部署。</p>
<h1 id="系统规划"><a href="#系统规划" class="headerlink" title="系统规划"></a>系统规划</h1><h2 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h2><ul>
<li>zheyi-manager : manager.zheyi.com</li>
<li>zheyi-portal : www.zheyi.com</li>
<li>zheyi-rest : rest.zheyi.com</li>
<li>zheyi-sso : sso.zheyi.com</li>
<li>zheyi-search : search.zheyi.com</li>
</ul>
<p>所有的域名都配置指向代理服务器（Nginx）。</p>
<ul>
<li>192.168.22.138 : manager.zheyi.com</li>
<li>192.168.22.138 : www.zheyi.com</li>
<li>192.168.22.138 : rest.zheyi.com</li>
<li>192.168.22.138 : sso.zheyi.com</li>
<li>192.168.22.138 : search.zheyi.com</li>
</ul>
<h2 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h2><ul>
<li>图片Server</li>
<li>Redis集群</li>
<li>Solr集群</li>
<li>DB Server</li>
<li>Nginx Server</li>
<li>zheyi-manager</li>
<li>zheyi-portal</li>
<li>zheyi-sso</li>
<li>zheyi-search</li>
<li>zheyi-rest</li>
</ul>
<p>至少要10台VM。</p>
<h1 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h1><p>用Nginx来实现反向代理服务器。</p>
<h2 id="虚拟主机"><a href="#虚拟主机" class="headerlink" title="虚拟主机"></a>虚拟主机</h2><p>nginx支持三种类型的虚拟主机配置：</p>
<ol>
<li>基于ip的虚拟主机</li>
<li>基于域名的虚拟主机 </li>
<li>基于端口的虚拟主机<br>一般都用第3种方式来实现。<h2 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h2>而反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。</li>
</ol>
<p>配置：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">upstream</span> manager.zheyi.com &#123;</span><br><span class="line">	<span class="title">server</span> <span class="number">192.168.22.135:8080</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">upstream</span> rest.zheyi.com &#123;</span><br><span class="line">	<span class="title">server</span> <span class="number">192.168.22.136:8080</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">upstream</span> search.zheyi.com &#123;</span><br><span class="line">	<span class="title">server</span> <span class="number">192.168.22.136:8081</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">upstream</span> sso.zheyi.com &#123;</span><br><span class="line">	<span class="title">server</span> <span class="number">192.168.22.136:8082</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">upstream</span> order.zheyi.com &#123;</span><br><span class="line">	<span class="title">server</span> <span class="number">192.168.22.136:8083</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">upstream</span> www.zheyi.com &#123;</span><br><span class="line">	<span class="title">server</span> <span class="number">192.168.22.137:8080</span>;</span><br><span class="line">    &#125;</span><br><span class="line">   <span class="title">server</span> &#123;</span><br><span class="line">        <span class="title">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="title">server_name</span>  manager.zheyi.com;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="title">location</span> / &#123;</span><br><span class="line">            <span class="title">proxy_pass</span>   <span class="url">http://manager.zheyi.com</span>;</span><br><span class="line">            <span class="title">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">server</span> &#123;</span><br><span class="line">        <span class="title">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="title">server_name</span>  rest.zheyi.com;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="title">location</span> / &#123;</span><br><span class="line">            <span class="title">proxy_pass</span>   <span class="url">http://rest.zheyi.com</span>;</span><br><span class="line">            <span class="title">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">server</span> &#123;</span><br><span class="line">        <span class="title">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="title">server_name</span>  search.zheyi.com;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="title">location</span> / &#123;</span><br><span class="line">            <span class="title">proxy_pass</span>   <span class="url">http://search.zheyi.com</span>;</span><br><span class="line">            <span class="title">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">server</span> &#123;</span><br><span class="line">        <span class="title">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="title">server_name</span>  sso.zheyi.com;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="title">location</span> / &#123;</span><br><span class="line">            <span class="title">proxy_pass</span>   <span class="url">http://sso.zheyi.com</span>;</span><br><span class="line">            <span class="title">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title">server</span> &#123;</span><br><span class="line">        <span class="title">listen</span>       <span class="number">80</span>;</span><br><span class="line">        <span class="title">server_name</span>  www.zheyi.com;</span><br><span class="line"></span><br><span class="line">        <span class="comment">#charset koi8-r;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">#access_log  logs/host.access.log  main;</span></span><br><span class="line"></span><br><span class="line">        <span class="title">location</span> / &#123;</span><br><span class="line">            <span class="title">proxy_pass</span>   <span class="url">http://www.zheyi.com</span>;</span><br><span class="line">            <span class="title">index</span>  index.html index.htm;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h2><p>根据不同策略来实现。</p>
<h1 id="Tomcat热部署"><a href="#Tomcat热部署" class="headerlink" title="Tomcat热部署"></a>Tomcat热部署</h1><p>使用maven实现tomcat的热部署。</p>
<ol>
<li><p>在Tomcat中配置用户权限(conf/tomcat-user.xml)</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">role</span> <span class="attribute">rolename</span>=<span class="value">"manager-gui"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">role</span> <span class="attribute">rolename</span>=<span class="value">"manager-script"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">user</span> <span class="attribute">username</span>=<span class="value">"tomcat"</span> <span class="attribute">password</span>=<span class="value">"tomcat"</span> <span class="attribute">roles</span>=<span class="value">"manager-gui, manager-script"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>修改工程pom文件(build)</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">url</span>&gt;</span>http://$&#123;deploy server ip&#125;:8080/manager/text<span class="tag">&lt;/<span class="title">url</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">username</span>&gt;</span>tomcat<span class="tag">&lt;/<span class="title">username</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">password</span>&gt;</span>tomcat<span class="tag">&lt;/<span class="title">password</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>执行Maven Build，即可实现热部署。</p>
</li>
</ol>
<p>整个POC到此完工，明白了基本的开发流程和中间应用到的框架和工具。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/34/">34</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar.jpg"
                alt="唐胡璐" />
            
              <p class="site-author-name" itemprop="name">唐胡璐</p>
              <p class="site-description motion-element" itemprop="description">i just wanna live while i am alive</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">339</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">69</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://www.linkedin.com/in/yongfeiuall" target="_blank" title="LinkedIn">
                      
                        <i class="fa fa-fw fa-linkedin"></i>LinkedIn</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://weibo.com/yongfeiuall" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-weibo"></i>Weibo</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/yongfeiuall" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="yongfeiuall@163.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
              </a>
            </div>
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">唐胡璐</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	

		<script type="text/javascript">
		_hcwp = window._hcwp || [];

		_hcwp.push({widget:"Bloggerstream", widget_id: 101212, selector:".hc-comment-count", label: "{\%COUNT%\}" });

		

		(function() {
		if("HC_LOAD_INIT" in window)return;
		HC_LOAD_INIT = true;
		var lang = (navigator.language || navigator.systemLanguage || navigator.userLanguage || "en").substr(0, 2).toLowerCase();
		var hcc = document.createElement("script"); hcc.type = "text/javascript"; hcc.async = true;
		hcc.src = ("https:" == document.location.protocol ? "https" : "http")+"://w.hypercomments.com/widget/hc/101212/"+lang+"/widget.js";
		var s = document.getElementsByTagName("script")[0];
		s.parentNode.insertBefore(hcc, s.nextSibling);
		})();
		</script>

	
















  





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "default";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Wechat,Linkedin,Weibo,Mailto,Douban,QQZone,Twitter,Reddit,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  

  

  

  

</body>
</html>
